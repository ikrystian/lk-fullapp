<ng-container *ngIf="training">

  <button mat-icon-button class="quick-menu" [matMenuTriggerFor]="menu">
    <mat-icon>more_vert</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item (click)="finishWorkout(training.id)">
      <mat-icon>insert_emoticon</mat-icon>
      Zakończ trening
    </button>
    <mat-divider></mat-divider>
    <button class="mat-menu-item" (click)="toggleImageForm()">
      <mat-icon>image</mat-icon>
      Dodaj zdjęcie do treningu
    </button>
    <button class="mat-menu-item" routerLink="/dashboard/training/{{ training.id }}">
      <mat-icon>assignment</mat-icon>
      Podsumowanie treningu
    </button>
    <button mat-menu-item (click)="openAddExerciseModal()">
      <mat-icon>add</mat-icon>
      Dodaj ćwiczenie
    </button>
    <button mat-menu-item class="warn" (click)="removeTraining(training.id)">
      <mat-icon>delete</mat-icon>
      Usuń trening
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item (click)="logOut()">
      <mat-icon>logout</mat-icon>
      Wyloguj
    </button>
  </mat-menu>
  <app-exercise-progress></app-exercise-progress>
  <div class="standard-page">
    <app-training-image *ngIf="showUploadImageForm" [training]="training"></app-training-image>
    <mat-form-field class="full-width-input">
      <mat-label>Ustaw nazwę treningu</mat-label>
      <input matInput [(ngModel)]="training.name" (focusout)="changeTrainingName($event)">
    </mat-form-field>

    <div class="body-parts__container">
      <div class="body-parts">
        <ng-container *ngFor="let bodyPart of bodyParts">
          <button mat-button (click)="filterExercises(bodyPart.id)">{{ bodyPart.name }}</button>
        </ng-container>
      </div>
    </div>

    <mat-form-field class="select--full">
      <mat-label>Cwiczenie</mat-label>
      <select matNativeControl #t required (change)="changeExercise(t.value)" [(ngModel)]="selectedOption">
        <option value=""></option>
        <option *ngFor="let exercise of exerciseTypes" [value]="exercise.id">
          {{exercise.name}}
        </option>
      </select>
    </mat-form-field>
    <app-exercise *ngIf="exerciseId !== 0" [exerciseId]="exerciseId" [trainingId]="training.id"></app-exercise>
  </div>
</ng-container>
