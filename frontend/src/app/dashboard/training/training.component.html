<ng-container *ngIf="training">
  <mat-toolbar class="toolbar">
    <div class="toolbar__back">
      <button (click)="back()" mat-icon-button aria-label="Wstecz">
        <mat-icon>keyboard_backspace</mat-icon>
      </button>
    </div>
    <span class="toolbar__title"><span>{{ training.name }}</span></span>

    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #menu="matMenu">
      <button class="mat-menu-item" routerLink="/dashboard/training/{{ training.id }}/edit">
        <mat-icon>edit</mat-icon>
        Edycja treningu
      </button>
      <button mat-menu-item (click)="removeTraining(training.id)">
        <mat-icon>delete</mat-icon>
        Usuń trening
      </button>
    </mat-menu>

  </mat-toolbar>
  <div class="training-component">
    <div class="user-image-container" *ngIf="training.user_image">
      <img [src]="ASSETS_URL + training.user_image" alt="">
    </div>

    <section class="page-content">
      Lacznie na tym treningu: {{ training.total }}kg
    </section>

    <table mat-table [dataSource]="dataSource" class="block-table table-striped">

      <ng-container matColumnDef="name">
        <td mat-footer-cell *matFooterCellDef></td>
        <td mat-cell *matCellDef="let element"> {{element.type.name}} </td>
        <th mat-header-cell *matHeaderCellDef> N</th>
      </ng-container>

      <ng-container matColumnDef="weight">
        <td mat-footer-cell *matFooterCellDef></td>
        <td mat-cell *matCellDef="let element"> {{element.weight}} </td>
        <th mat-header-cell *matHeaderCellDef> C</th>
      </ng-container>

      <ng-container matColumnDef="reps">
        <td mat-footer-cell *matFooterCellDef></td>
        <td mat-cell *matCellDef="let element"> {{element.reps}} </td>
        <th mat-header-cell *matHeaderCellDef> P</th>
      </ng-container>

      <ng-container matColumnDef="seriesTotal">
        <td mat-footer-cell *matFooterCellDef><strong>{{ training.total / 1000 | round: 2 }}&nbsp;ton</strong></td>
        <td mat-cell *matCellDef="let element"> {{element.reps * element.type.multipler * element.weight}}&nbsp;kg</td>
        <th mat-header-cell *matHeaderCellDef>ł</th>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr class="{{ row }}" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
    </table>

    <div class="training-component__description">
    <ul class="training-description">
      <li>N - nazwa ćwiczenia</li>
      <li>C - Ciężar</li>
      <li>P - Ilość powtórzeń w serii</li>
      <li>M - mnożnik (<a href="#">dowiedz się więcej</a>)</li>
      <li>ł - łączna ilość w kilogramach w serii</li>
    </ul>
  </div>
  </div>
</ng-container>

<app-bottom-nav></app-bottom-nav>
